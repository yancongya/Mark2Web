# ✅ Cloudflare Worker 部署清单

## 📋 **部署前准备**

- [ ] 拥有 Cloudflare 账号（免费注册）
- [ ] 拥有小米 Mimo API Key 或其他AI服务API Key
- [ ] 下载/复制了本文件夹的所有文件

---

## 🚀 **部署步骤（3分钟）**

### **方法 A: Cloudflare Dashboard（推荐，无需工具）**

- [ ] 1. 打开 https://dash.cloudflare.com
- [ ] 2. 登录或注册账号
- [ ] 3. 左侧菜单 → **Workers & Pages**
- [ ] 4. 点击 **Create Application** → **Create Worker**
- [ ] 5. 输入名称：`xiaomimimo-proxy` 或自定义名称
- [ ] 6. 点击 **Deploy**
- [ ] 7. 点击 **Edit Code**
- [ ] 8. 删除默认代码
- [ ] 9. 打开 `worker.js`，全选复制
- [ ] 10. 粘贴到 Cloudflare 编辑器
- [ ] 11. 点击 **Save and Deploy**
- [ ] 12. **复制生成的 URL**（格式：`https://xxx.workers.dev`）

---

### **方法 B: 命令行部署**

- [ ] 1. 安装 Node.js（如果未安装）
- [ ] 2. 打开命令行/终端
- [ ] 3. 运行：`npm install -g wrangler`
- [ ] 4. 运行：`wrangler login`
- [ ] 5. 进入目录：`cd cloudflare-worker`
- [ ] 6. 运行：`wrangler deploy`
- [ ] 7. **复制生成的 URL**

---

## ⚙️ **Mark2Web 配置**

- [ ] 打开 Mark2Web 应用
- [ ] 进入 **设置** → **模型服务商**
- [ ] 配置小米 Mimo 提供商或其他自定义提供商：

```
Provider ID: xiaomi-mimo (或其他自定义ID)
Type: openai
Label: 小米 Mimo (或其他自定义标签)
Base URL: https://api.xiaomimimo.com (或实际API基础URL)
Proxy URL: [粘贴你的 Worker URL]
API Key: [你的API Key]
Model ID: mimo-v2-flash (或实际模型ID)
```

---

## ✅ **验证测试**

- [ ] 在 Mark2Web 中点击 **测试连接**
- [ ] 应该显示：**✅ 连接成功**
- [ ] 尝试生成一个简单页面
- [ ] 检查是否正常工作

---

## 🔍 **故障排查**

如果测试失败：

- [ ] 检查 Worker URL 是否正确
- [ ] 检查 API Key 是否有效
- [ ] 检查 Worker 是否已部署（不是仅保存）
- [ ] 查看 Worker 日志：`wrangler tail`
- [ ] 测试 Worker：运行 `node test.js`

---

## 📁 **文件说明**

| 文件 | 用途 |
|------|------|
| `worker.js` | Worker 主代码（必需） |
| `wrangler.toml` | 部署配置文件 |
| `README.md` | 详细文档 |
| `快速部署指南.md` | 快速开始 |
| `test.js` | 测试脚本 |
| `部署清单.md` | 本文件 |

---

## 🎉 **部署成功后**

你的 Mark2Web 现在可以：
- ✅ 在浏览器中直接使用配置的AI服务
- ✅ 生成代码、测试连接
- ✅ 享受 Cloudflare 全球加速
- ✅ 管理多个代码版本并进行切换

---

## 💰 **费用**

**完全免费！**
- Cloudflare Workers 免费额度：100,000 请求/天
- 个人使用完全足够

---

## 🆘 **需要帮助？**

1. **查看文档**：`README.md`
2. **快速指南**：`快速部署指南.md`
3. **运行测试**：`node test.js`
4. **查看日志**：`wrangler tail`

---

**状态：准备部署** ✅
